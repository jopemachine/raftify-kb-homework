# RaftNode
`RaftNode` is a type in `raftify` that integrates `RawNode` with the network and storage layers, providing a higher-level abstraction.

`raftify` receives messages sent by the gRPC client in a separate asynchronous task and passes these messages to the `RaftNode.run()` task through a channel.

After processing the messages, the state changes are handled in a method called `on_ready()` (Raft loop).

1. A request is generated by the client (e.g., calling `RaftServiceClient.propose()` or `RaftNode.propose()`).
2. `RaftServiceClient.propose()` is called on the remote Raft node via gRPC.
3. `RaftServiceClient.propose()` sends a `Propose` message to the `RaftNode.run()` asynchronous task through a channel.
4. `RaftNode.run()`, which polls the message queue, calls `RawNode.propose()` when a `Propose` message arrives.
5. If there are changes that need to be applied to the state machine, a `Ready` instance is created and passed to the `on_ready()` handler.
6. The `on_ready()` handler processes the committed entries and then responds to the client.
