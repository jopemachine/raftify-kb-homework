# Joint Consensus

joint consensus는 클러스터의 노드(서버)구성의 변경을 안전하게 수행하기 위한 메커니즘이다.

## Joint Consensus의 동작

Raft 알고리즘 안에서 클러스터 내부 구성을 변경할 시 안정성을 보장하며 일관성 문제를 피할 수 있도록 중간 단계인 `Joint Consensus`를 두어 `단계적 전환`을 이룬다.

1. 첫 번째 단계 - 현재 구성과 새로운 구성을 동시에 인식하는 중간 상태로 전환(Joint Consensus)
2. 마지막 단계 - 새로운 구성만을 인식하는 최종 상태로 전환

### Joint Consensus 단계

- 해당 단계에서는 클러스터의 리더, 팔로워 모두 현재 구성과 새로운 구성 상태를 모두 유지한다.
- 모든 결정은 두 구성 모두에게 과반수의 동의를 받아야한다. 즉, 결정은 두 구성의 교차 합집합에서 과반수의 동이를 얻어야한다.
- 이렇게 하면 새로운 구성으로의 전환이 안전하게 이루어지며, 중단 단계에서 발생할 수 있는 문제를 방지할 수 있다.
